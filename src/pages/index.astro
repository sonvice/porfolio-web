---
import Layout from "@layouts/Layout.astro";
import CardProject from "@components/CardProject.astro";
import { projects,projectsApp } from "@constant/index";
import CardPost from "@components/CardPost.astro";
import { getCollection } from "astro:content";
const allPosts = (await getCollection("posts")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
); // Ordenar los posts en orden descendente.
import Hero from "@layouts/Hero.astro";
import Nav from "@components/Nav.astro";

const combinedProjects = [
  projectsApp.find(p => p.title.includes("Calculatuluz.es")),
  projects[5],
];

const personal = 'üñ•Ô∏è Con +5 a√±os en dise√±o y desarrollo web. Dominio de HTML5, CSS3, JavaScript, Figma, Adobe (Photoshop, Illustrator) y tecnolog√≠as modernas como Astro.js, Vue.js, React.js y Tailwindcss.'
const {canonicalURL} = Astro.props
---

<Layout title="Front End Developer | Designer" canonical={canonicalURL} description={personal}>
  <div class="container">
    <Hero title="Hola!üëã, Soy Wilson" personal={personal}/>
    <Nav/>
    <h2 class="mt-space-3xl mb-space-l"># √öltimos Proyectos</h2>
    <CardProject quantity={2} project={combinedProjects}/>
    <h2 class="mb-space-l mt-space-2xl"># √öltimo Post</h2>
    <ul role="list" class="blog-post | flow">
      {
        allPosts.slice(0, 1).map((post) => {
          return (
            <CardPost post={post}/>
          );
        })
      }
    </ul>
  </div>
</Layout>
